# TG/VK бот для проведения викторин
Ознакомиться с ботами "вживую" можно в [VK](https://vk.com/im/convo/-235117048) и [Telegram](https://t.me/mafwpodop_bot)

## Установка
Проект был собран на python 3.10, для корректной работы запускайте все скрипты именно на этой версии

Установите зависимости:
```
pip install -r requirements.txt
```
### Redis
Для работы с вопросами используется сервис [Redis](https://redis.io/). Зарегестрируйте на нём учётную запись и создайте БД.

### Файл(ы) с вопросами
Ботам для работы нужны текстовые файлы с вопросами в кодировке `KOI8-R`.

Содержимое файла должно быть вида:
```
Воспрос *:
[Содержимое вопроса]

Ответ *:
[Содержимое ответа].
```
Основные правила:
- В конце строки, перед содержимым вопроса/ответа должно быть `:`
- Содержимое вопроса/ответа должно быть на следующей строке после него
- Все вопросы/ответы разделяются пустой строкой
- Содержание каждого ответа заканчивается точкой
- Все символы после `(` в ответе не учитываются

Пример такого файла можно посмотреть [здесь](https://github.com/VladislavVenin/quiz-bot/blob/main/example.txt)

### Переменные окружения
Для работы скриптов требуется создать .env файл со следующими переменными окружения:
- `TG_TOKEN` - Токен вашего Telegram бота, его можно получить у  [BotFather](https://t.me/BotFather)
- `VK_TOKEN` - Токен вашей группы VK, содать его можно в меню `упраления` вашей группы (`Дополнительно\Работа с API`)
- `QUESTIONS_FOLDER` - Путь до папки с текстовыми файлами в которых содержатся вопросы
- `DB_HOST` - Адрес вашей БД Redis записан в графе `Public endpoint` до знака `:`
- `DB_PORT` - Адрес вашей БД Redis записан в графе `Public endpoint` после знака `:`
- `DB_PASSWORD` - Пароль для доступа к БД, можно узнать ниже в меню `Security`

## Запуск
### tg_bot.py
Скрипт запускающий вашего бота в Telegram
```
python telegram_bot.py
```
![Telegram_2026-01-13_22-57-13](https://github.com/user-attachments/assets/bc1ee39d-e4af-403d-8be5-cdd41365de3e)


### vk_bot.py
Скрипт запускающий бота в вашей группе VK
```
python vk_bot.py
```
![browser_2026-01-13_23-00-48](https://github.com/user-attachments/assets/5b36ed1a-59ee-430f-8385-533f2d1b3188)
